<div class="container mt-4">
  <div class="d-flex align-items-center mb-3">
    <i class="bi bi-people-fill fs-2 me-2 text-primary"></i>
    <div>
      <h2 class="mb-0">User List</h2>
      <small class="text-muted">Manage all users in the system</small>
    </div>
  </div>
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>
  <div *ngIf="!users.length && !error">Loading...</div>
  <div class="table-responsive">
    <table *ngIf="users.length" class="table table-bordered table-striped mt-3 shadow-sm rounded user-table">
      <thead class="table-dark">
        <tr>
          <th class="text-center">Avatar</th>
          <th>Fullname</th>
          <th>Username</th>
          <th>Email</th>
          <th>Address</th>
          <th>Phone</th>
          <th class="text-center">Role</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users" class="align-middle user-row">
          <td class="text-center">
            <img [src]="user.avatar ? user.avatar : 'https://ui-avatars.com/api/?name=' + (user.fullName || user.userName) + '&background=random'"
                 alt="avatar" width="56" height="56" class="rounded-circle border border-2 shadow-sm bg-light" style="object-fit:cover;" />
          </td>
          <td><strong>{{ user.fullName }}</strong></td>
          <td>{{ user.userName }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.address }}</td>
          <td>{{ user.phone }}</td>
          <td class="text-center">
            <span [ngClass]="{
              'badge bg-primary': user.roleName === 'Admin',
              'badge bg-success': user.roleName === 'User',
              'badge bg-warning text-dark': user.roleName !== 'Admin' && user.roleName !== 'User'
            }">{{ user.roleName }}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
